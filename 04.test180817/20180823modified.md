# 수정 내역


---

- ###### JPA 엔티티 : ToDo > Tag
- ###### 기능: CRUD, 태그 검색 

###### 수정 기능은 EntityManager.merge() 메서드 사용했는데, 기존 엔티티가 영속 객체에 포함이 안되어서 그런것인지 알아봐야 할 것 같음
###### Tag 엔티티는 처음에 List<String> Tag 속성으로 ToDo 엔티티에 넣어뒀는데, 태그 검색 기능에서 List 내부의 값을 검색해서 해당 값을 가지는 ToDo 엔티티들을 불러오는 쿼리를 짜는데 실패해서 Tag 엔티티로 변경 > @OneToMany 연관으로 처리
###### Tag 엔티티 중, 리스트에서 엔티티로 변경하면서 tagIdx는 필요 없어졌으나 아직 수정하지 않음  
###### @OneToMany 사용시, One 측에서 Many와 관련된 set 코드를 넣으며 복잡해지므로, 앞으로는 @ManyToOne 최대한 쓰는 것으로ㅠㅠ.. 


<br/><br/>

---


---
#### 완료 사항


- [x] JPA로 변환   <br/><br/>

- [x] xml 설정을 java Configuration 으로 변경   <br/><br/>

- [x] Entity의 Vo 객체 이름 변경 <br/><br/>

- [x] 날짜 값 LocalDate로 변경  <br/><br/>

- [x] 컨트롤러 매핑 애노테이션 변경 <br/><br/>

- [x] 확인용 출력 Logger로 변경<br/><br/>

- [x] 롬복 사용해보기<br/><br/>

- [x] 태그 검색 기능 쿼리문 수정 <br/><br/>

- [x] 모델 쪽 수정 기능 메서드 추출해서 가독성 높이기 <br/><br/>

- [x] DB 연결 정보 properties 파일로 분리하기 <br/><br/>

- [x] 날짜값이 null로 들어올 경우 > Optional 사용  <br/><br/>

- [x] 날짜 디폴트 값 설정 > 객체 쪽에서 설정하기 <br/><br/>

- [x] 입력 수정 삭제의 성공 / 실패에 따른 결과 리턴 <br/><br/>




